!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.x=0,this.y=0,this.x=t||0,this.y=e||0}return t.prototype.clone=function(){return new t(this.x,this.y)},Object.defineProperty(t.prototype,"magntiude",{get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},enumerable:!1,configurable:!0}),t.prototype.add=function(t,e){return"number"==typeof t?(this.x+=t,this.y+=e):(this.x+=t.x,this.y+=t.y),this},t.prototype.scale=function(t){return this.x*=t,this.y*=t,this},t.prototype.normalise=function(t){return void 0===t&&(t=1),this.scale(t/this.magntiude)},t.prototype.multiply=function(t,e,n,r){var i=this.x,o=this.y;return this.x=t*i+e*o,this.y=n*i+r*o,this},t.prototype.rotate=function(t){return this.multiply(Math.cos(t),-Math.sin(t),Math.sin(t),Math.cos(t))},t.prototype.scalarCross=function(t){return this.x*t.y-t.x*this.y},t.prototype.toString=function(){return"X: "+this.x.toFixed(0)+" Y: "+this.y.toFixed(0)+" MAGN: "+this.magntiude.toFixed(0)},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),i=n(0);n(3),n(8);var o=n(9);window.addEventListener("load",(function(){console.log("Loading scene ...");var t=document.querySelector("canvas"),e=t.getBoundingClientRect();t.width=e.width,t.height=e.height;var n=new r.default(5,t,[]);n.addLander(new o.default(n,{mass:100,position:new i.default(0,50),velocity:new i.default(0,50)},{momentOfInertia:{mass:100,sideLength:10},angle:0,angularSpeed:0},[{name:"up",thrustVector:new i.default(0,1e3),axisDistance:new i.default(0,-5)},{name:"topleft",thrustVector:new i.default(150,0),axisDistance:new i.default(-5,5)},{name:"bottomleft",thrustVector:new i.default(150,0),axisDistance:new i.default(-5,-5)},{name:"topright",thrustVector:new i.default(-150,0),axisDistance:new i.default(5,5)},{name:"bottomright",thrustVector:new i.default(-150,0),axisDistance:new i.default(5,-5)}],"red",{ArrowUp:[{engine:"up",throttle:1}],",":[{engine:"topright",throttle:1},{engine:"bottomleft",throttle:1}],".":[{engine:"topleft",throttle:1},{engine:"bottomright",throttle:1}],ArrowLeft:[{engine:"topright",throttle:1},{engine:"bottomright",throttle:1}],ArrowRight:[{engine:"topleft",throttle:1},{engine:"bottomleft",throttle:1}]})),n.addLander(new o.default(n,{mass:100,position:new i.default(20,50),velocity:new i.default(0,50)},{momentOfInertia:{mass:100,sideLength:10},angle:0,angularSpeed:0},[{name:"up",thrustVector:new i.default(0,1e3),axisDistance:new i.default(0,-5)},{name:"topleft",thrustVector:new i.default(150,0),axisDistance:new i.default(-5,5)},{name:"bottomleft",thrustVector:new i.default(150,0),axisDistance:new i.default(-5,-5)},{name:"topright",thrustVector:new i.default(-150,0),axisDistance:new i.default(5,5)},{name:"bottomright",thrustVector:new i.default(-150,0),axisDistance:new i.default(5,-5)}],"black",{w:[{engine:"up",throttle:1}],q:[{engine:"topright",throttle:1},{engine:"bottomleft",throttle:1}],e:[{engine:"topleft",throttle:1},{engine:"bottomright",throttle:1}],a:[{engine:"topright",throttle:1},{engine:"bottomright",throttle:1}],d:[{engine:"topleft",throttle:1},{engine:"bottomleft",throttle:1}]})),n.addHook(r.hooks.focusLander(document.querySelector(".lander-telemetry .body"))),n.start(),window.scene=n}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hooks=void 0;var r=n(0),i={focusLander:function(t){return{fn:function(e){e.focusLander?t.innerHTML=("Position: "+e.focusLander.position.toString()+"\nVelocity: "+e.focusLander.velocity.toString()+"\nAngle: "+(e.focusLander.angle/Math.PI*180).toFixed(1)+" degrees\nAngular velocity: "+(e.focusLander.angularSpeed/Math.PI*180).toFixed(1)+" degrees\n").replace(/ /g,"&nbsp;").replace(/\n/g,"<br />"):t.innerHTML="Please click on lander to view its information"},throttle:5}}};e.hooks=i;var o=function(){function t(t,e,n){this.landers=n,this.gravity=new r.default(0,-t),this.update=this.update.bind(this),this.canvas=e,this.ctx=e.getContext("2d"),this.camera=new r.default(0,0),this.active=!1,this.focusLander=null,this.canvas.addEventListener("click",this.onClick.bind(this)),this.frames=0,this.recentFps=0,this.fps=0,this.hooks=[],console.log("Launching RAf"),requestAnimationFrame(this.update)}return t.prototype.addHook=function(t){this.hooks.push(t)},t.prototype.onClick=function(t){var e=this.canvas.getBoundingClientRect(),n=this.transformToPhysicsCoordinates(new r.default(t.clientX-e.left,t.clientY-e.top)),i=this.landers.map((function(t){var e=t.position;return n.clone().scale(-1).add(e).magntiude}));this.focusLander=this.landers[i.indexOf(Math.min.apply(Math,i))]},t.prototype.addLander=function(t){return this.landers.push(t),this},t.prototype.start=function(){return this.active=!0,this},t.prototype.stop=function(){return this.active=!1,this},t.prototype.update=function(t){if(this.active&&this.lastRun){var e=(t-this.lastRun)/1e3;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.frames%10==0&&(this.fps=this.recentFps/10,this.recentFps=0),this.recentFps+=1/e,this.ctx.strokeStyle="Black",this.ctx.lineWidth=2,this.ctx.strokeText(this.fps.toFixed(0)+" fps",0,10),this.focusLander&&(this.camera.x=this.focusLander.position.x,this.camera.y=Math.max(this.canvas.height/2-5,this.focusLander.position.y));for(var n=0,r=this.landers;n<r.length;n++){var i=r[n];i.update(e),i.render()}this.ctx.strokeStyle="black",this.ctx.lineWidth=5,this.ctx.beginPath(),this.ctx.moveTo(0,this.camera.y+this.canvas.height/2),this.ctx.lineTo(this.canvas.width,this.camera.y+this.canvas.height/2),this.ctx.stroke(),this.frames+=1}for(var o=0,s=this.hooks;o<s.length;o++){var a=s[o],c=a.fn,u=a.throttle;this.frames%u==0&&c(this)}this.lastRun=t,requestAnimationFrame(this.update)},t.prototype.transformCoordinates=function(t){return new r.default(t.x-this.camera.x+this.canvas.width/2,this.camera.y+this.canvas.height/2-t.y)},t.prototype.transformToPhysicsCoordinates=function(t){return new r.default(t.x+this.camera.x-this.canvas.width/2,this.camera.y+this.canvas.height/2-t.y)},t}();e.default=o},function(t,e,n){var r=n(4);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(e=n(5)(!1)).push([t.i,"canvas, html, body{\r\n    width: 100%;\r\n    height: 100%;\r\n    margin: 0;\r\n    padding: 0;\r\n    font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n\r\n}\r\n.draggable-box{\r\n    position: absolute;\r\n    padding: 5px;\r\n    top: 10px;\r\n    bottom: 10px;\r\n    border: 1px solid black;\r\n    border-radius: 5px;\r\n    width: max-content;\r\n    min-width: 100px;\r\n    height: min-content;\r\n    cursor: move;\r\n}\r\n.draggable-box .header{\r\n    font-size: 15px;\r\n}\r\n.draggable-box .body{\r\n    font-size: 10px;\r\n}",""]),t.exports=e},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(s=r,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(c," */")),o=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[n].concat(o).concat([i]).join("\n")}var s,a,c;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(i[s]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);r&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},function(t,e,n){var r,i,o={},s=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),a=function(t){return document.querySelector(t)},c=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var n=a.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),u=null,h=0,l=[],f=n(7);function d(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=o[r.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](r.parts[s]);for(;s<r.parts.length;s++)i.parts.push(x(r.parts[s],e))}else{var a=[];for(s=0;s<r.parts.length;s++)a.push(x(r.parts[s],e));o[r.id]={id:r.id,refs:1,parts:a}}}}function p(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],s=e.base?o[0]+e.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};r[s]?r[s].parts.push(a):n.push(r[s]={id:s,parts:[a]})}return n}function y(t,e){var n=c(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),l.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=c(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,i)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function v(t){var e=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),m(e,t.attrs),y(t,e),e}function m(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function x(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var s=h++;n=u||(u=v(e)),r=R.bind(null,n,s,!1),i=R.bind(null,n,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",m(e,t.attrs),y(t,e),e}(e),r=_.bind(null,n,e),i=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(e),r=w.bind(null,n),i=function(){g(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=s()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=p(t,e);return d(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var s=n[i];(a=o[s.id]).refs--,r.push(a)}t&&d(p(t,e),e);for(i=0;i<r.length;i++){var a;if(0===(a=r[i]).refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete o[a.id]}}}};var b,E=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function R(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=E(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function w(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function _(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=f(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([r],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var i,o=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(t,e){document.querySelectorAll(".draggable-box").forEach((function(t){var e=!1;t.addEventListener("mousedown",(function(){e=!0})),document.addEventListener("mousemove",(function(n){e&&(t.style.left=n.pageX+"px",t.style.top=n.pageY+"px")})),document.addEventListener("mouseup",(function(){e=!1}))}))},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n,r,i,o,s){var a=t.call(this,e,n,r,i,o)||this;return a.keyMap=new Map,a.path=[],e.canvas.tabIndex=1e3,e.canvas.focus(),a.frames=0,a.keyboardMapping=s,document.addEventListener("keydown",(function(t){a.keyMap.set(t.key,!0)})),document.addEventListener("keyup",(function(t){a.keyMap.set(t.key,!1)})),a}return i(e,t),e.prototype.update=function(e){for(var n in this.frames+=1,this.keyboardMapping)if(this.keyMap.get(n))for(var r=0,i=this.keyboardMapping[n];r<i.length;r++){var o=i[r],s=o.engine,a=o.throttle;this.fireEngine(s,a)}this.frames%10==1&&(this.path.unshift(this.position.clone()),this.path=this.path.slice(0,100)),t.prototype.update.call(this,e)},e.prototype.render=function(){var e=this;this.scene.ctx.strokeStyle=this.color,this.scene.ctx.lineWidth=1;var n=this.path.map((function(t){return e.scene.transformCoordinates(t)}));if(n.length>1){this.scene.ctx.beginPath(),this.scene.ctx.moveTo(n[0].x,n[0].y);for(var r=1;r<n.length;r++)this.scene.ctx.lineTo(n[r].x,n[r].y);this.scene.ctx.stroke()}t.prototype.render.call(this)},e}(n(10).default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(11),o=function(){function t(t,e,n,r,i){var o=e.mass,s=e.position,a=e.velocity,c=n.momentOfInertia,u=n.angle,h=n.angularSpeed;this.scene=t,this.mass=o,this.position=s,this.velocity=a,this.momentOfInertia="number"==typeof c?c:c.mass*c.sideLength*c.sideLength/6,this.angle=u,this.angularSpeed=h,this.engines=r,this.color=i,this.registeredForces=[],this.registeredTorques=[]}return t.prototype.render=function(){var t=this.scene.transformCoordinates(this.position);this.scene.ctx.save(),this.scene.ctx.translate(t.x,t.y),this.scene.ctx.rotate(-this.angle),this.scene.ctx.translate(-t.x,-t.y),this.scene.ctx.fillStyle=this.color,this.scene.ctx.strokeStyle=this.color,this.scene.ctx.beginPath(),this.scene.ctx.moveTo(t.x-i.LANDER_RENDER_WIDTH/2,t.y-i.LANDER_RENDER_HEIGHT/2),this.scene.ctx.lineTo(t.x+i.LANDER_RENDER_WIDTH/2,t.y-i.LANDER_RENDER_HEIGHT/2),this.scene.ctx.lineTo(t.x+i.LANDER_RENDER_WIDTH/2,t.y+i.LANDER_RENDER_HEIGHT/6),this.scene.ctx.lineTo(t.x+i.LANDER_RENDER_WIDTH/6,t.y+i.LANDER_RENDER_HEIGHT/6),this.scene.ctx.lineTo(t.x+i.LANDER_RENDER_WIDTH/2,t.y+i.LANDER_RENDER_HEIGHT/2),this.scene.ctx.lineTo(t.x-i.LANDER_RENDER_WIDTH/2,t.y+i.LANDER_RENDER_HEIGHT/2),this.scene.ctx.lineTo(t.x-i.LANDER_RENDER_WIDTH/6,t.y+i.LANDER_RENDER_HEIGHT/6),this.scene.ctx.lineTo(t.x-i.LANDER_RENDER_WIDTH/2,t.y+i.LANDER_RENDER_HEIGHT/6),this.scene.ctx.fill(),this.scene.ctx.restore()},t.prototype.registerForce=function(t){this.registeredForces.push(t)},t.prototype.registerTorque=function(t){this.registeredTorques.push(t)},t.prototype.update=function(t){var e=this.registeredTorques.reduce((function(t,e){return t+e}),0)/this.momentOfInertia;this.angle+=this.angularSpeed*t+.5*e*t*t,this.angularSpeed+=e*t;var n=this.registeredForces.reduce((function(t,e){return t.add(e)}),new r.default).scale(1/this.mass).add(this.scene.gravity);this.position.add(this.velocity.clone().scale(t)).add(n.clone().scale(.5*t*t)),this.velocity.add(n.clone().scale(t)),this.registeredForces=[],this.registeredTorques=[]},Object.defineProperty(t.prototype,"energy",{get:function(){return.5*this.mass*this.velocity.magntiude*this.velocity.magntiude+this.mass*-this.scene.gravity.y*this.position.y},enumerable:!1,configurable:!0}),t.prototype.fireEngine=function(t,e){if(e<0||e>1)throw new Error("Beyond throttle margin");var n="number"==typeof t?this.engines[t]:this.engines.find((function(e){return e.name===t})),r=n.thrustVector.clone().scale(e).rotate(this.angle),i=n.axisDistance.scalarCross(n.thrustVector)*e;this.registerForce(r),this.registerTorque(i)},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MAIN_ENGINE_THRUST=e.LANDER_RENDER_WIDTH=e.LANDER_RENDER_HEIGHT=void 0,e.LANDER_RENDER_HEIGHT=10,e.LANDER_RENDER_WIDTH=10,e.MAIN_ENGINE_THRUST=1e3}]);